/* Base Layout & Typography */
body {
    font-family: sans-serif;
    max-width: 900px;
    margin: 50px auto;
    background-color: #f4f4f9;
    color: #333;
    transition: background-color 0.3s, color 0.3s;
}
body.no-theme-transition { transition: none !important; }
body.dark-mode { background-color: #1a1a1a; color: #e0e0e0; }

h1 { color: #5a67d8; margin-bottom: 20px; }
body.dark-mode h1 { color: #818cf8; }

p { font-size: 1.4em; color: #666; }
body.dark-mode p { color: #9ca3af; }

/* Theme Toggle */
.theme-toggle {
    position: fixed;
    top: 20px;
    right: 20px;
    background-color: #5a67d8;
    color: white;
    border: none;
    padding: 0;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    font-size: 1.2em;
    cursor: pointer;
    box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    transition: background-color 0.3s, transform 0.2s;
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
}
.theme-toggle:hover { background-color: #434190; transform: scale(1.1); }
body.dark-mode .theme-toggle { background-color: #fbbf24; color: #1a1a1a; }
body.dark-mode .theme-toggle:hover { background-color: #f59e0b; }

/* Page Containers */
.start-container,
.quiz-container,
.review-container,
.score-container {
    background-color: #fff;
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    transition: background-color 0.3s, box-shadow 0.3s;
}
.start-container { padding: 60px 30px; min-height: 400px; display: flex; flex-direction: column; justify-content: center; align-items: center; }
.quiz-container { position: relative; padding-bottom: 80px; min-height: 550px; }
.score-container { max-width: 600px; text-align: center; }

body.dark-mode .start-container,
body.dark-mode .quiz-container,
body.dark-mode .review-container,
body.dark-mode .score-container { background-color: #2d2d2d; box-shadow: 0 2px 10px rgba(0,0,0,0.5); }

/* Headings per page */
.start-container h1 { font-size: 3em; }
.quiz-container h1 { font-size: 1.2em; margin-top: 30px; }

/* Forms & Config */
.config-form { width: 100%; max-width: 400px; }
.config-group { margin-bottom: 30px; }
.config-group label { display: block; font-size: 1.1em; margin-bottom: 10px; color: #555; font-weight: 500; }
body.dark-mode .config-group label { color: #d1d5db; }
.config-group input[type="number"] { width: 25%; padding: 12px; font-size: 1.1em; border: 2px solid #ddd; border-radius: 5px; text-align: center; transition: border-color 0.3s; }
body.dark-mode .config-group input[type="number"] { background-color: #374151; border-color: #4b5563; color: #e0e0e0; }
.config-group input[type="number"]:focus { outline: none; border-color: #5a67d8; }
.range-text { display: block; margin-top: 8px; font-size: 0.9em; color: #888; }
body.dark-mode .range-text { color: #9ca3af; }

/* Categories */
.category-group { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; text-align: left; margin-top: 10px; }
.category-item { display: flex; align-items: center; }
.category-item input[type="checkbox"] { margin-right: 8px; width: 18px; height: 18px; cursor: pointer; }
.category-item label { margin: 0; font-size: 0.95em; font-weight: bold; cursor: pointer; }
body.dark-mode .category-item label { color: #e0e0e0; }
.error-message { color: #e53e3e; font-size: 1.0em; margin-top: 10px; display: none; }
body.dark-mode .error-message { color: #fca5a5; }

/* Buttons */
.start-button,
button[type="submit"],
.btn,
a.action-btn {
    background-color: #5a67d8;
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 5px;
    font-size: 1em;
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
    transition: background-color 0.3s;
}
.start-button { padding: 18px 40px; font-size: 1.3em; width: 60%; }
button[type="submit"] { width: 200px; position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); }
/* Start page specific submit button positioning override */
.start-container .config-form .start-button[type="submit"] {
    position: static; /* normal flow */
    bottom: auto;
    left: auto;
    transform: none;
    width: 60%; /* keep wider start button */
    display: block;
    margin: 10px auto 0; /* spacing above and centered */
}
.btn { font-size: 1.1em; padding: 12px 25px; margin: 0 10px; }
.btn-warning { background-color: #f59e0b; }
.btn-warning:hover { background-color: #d97706; }

.start-button:hover,
button[type="submit"]:hover,
.btn:hover,
a.action-btn:hover { background-color: #434190; }
body.dark-mode .start-button,
body.dark-mode button[type="submit"],
body.dark-mode .btn,
body.dark-mode a.action-btn { background-color: #818cf8; }
body.dark-mode .start-button:hover,
body.dark-mode button[type="submit"]:hover,
body.dark-mode .btn:hover,
body.dark-mode a.action-btn:hover { background-color: #6366f1; }

/* Timer */
.timer { position: absolute; top: 20px; right: 40px; background-color: #f0f0f0; padding: 15px 20px; border-radius: 8px; font-size: 1.2em; font-weight: bold; box-shadow: 0 2px 5px rgba(0,0,0,0.1); transition: background-color 0.3s, color 0.3s; }
body.dark-mode .timer { background-color: #374151; color: #e0e0e0; }
.timer.warning { background-color: #ffd700; color: #333; }
body.dark-mode .timer.warning { background-color: #fbbf24; color: #1a1a1a; }
.timer.danger { background-color: #ff4444; color: white; }
body.dark-mode .timer.danger { background-color: #dc2626; color: white; }

/* Code Snippet */
.code-snippet { background-color: #2d2d2d; color: #f8f8f2; padding: 15px; border-radius: 5px; margin-bottom: 20px; white-space: pre-wrap; font-family: monospace; }
body.dark-mode .code-snippet { background-color: #1a1a1a; border: 1px solid #4b5563; }

/* Quiz / Question */
ul { list-style-type: none; padding: 0; }
li { margin-bottom: 15px; }
label { display: block; padding: 10px; border: 1px solid #ddd; border-radius: 5px; cursor: pointer; transition: background-color 0.3s; }
body.dark-mode label { border-color: #4b5563; color: #e0e0e0; }
label:hover { background-color: #eef2ff; }
body.dark-mode label:hover { background-color: #374151; }
/* Start page heading labels should look like plain text, not interactive buttons */
.config-group > label.config-title {
    padding: 0; /* remove button-like padding */
    border: none; /* remove border */
    border-radius: 0; /* reset radius */
    background: none; /* no hover background */
    cursor: default; /* default cursor */
    transition: none; /* no transition */
}
.config-group > label.config-title:hover { background: none; }
input[type="radio"] { margin-right: 10px; }
.question-header { font-size: 1.1em; font-weight: bold; margin-bottom: 20px; }
body.dark-mode .question-header { color: #e0e0e0; }

/* Review Page */
.question-block { margin-bottom: 40px; padding: 20px; border: 2px solid #e5e7eb; border-radius: 8px; background-color: #f9fafb; }
body.dark-mode .question-block { background-color: #374151; border-color: #4b5563; }
.question-text { font-size: 1.05em; margin-bottom: 15px; color: #374151; }
body.dark-mode .question-text { color: #e5e7eb; }
.options-list { list-style-type: none; padding: 0; margin: 15px 0; }
.option-item { padding: 10px; margin-bottom: 10px; border: 2px solid #d1d5db; border-radius: 5px; background-color: #fff; }
body.dark-mode .option-item { background-color: #1f2937; border-color: #4b5563; color: #e5e7eb; }
.option-correct { background-color: #d1fae5; border-color: #10b981; font-weight: bold; }
body.dark-mode .option-correct { background-color: #064e3b; border-color: #10b981; }
.option-wrong { background-color: #fee2e2; border-color: #ef4444; }
body.dark-mode .option-wrong { background-color: #7f1d1d; border-color: #ef4444; }
.explanation { margin-top: 15px; padding: 15px; background-color: #eff6ff; border-left: 4px solid #3b82f6; border-radius: 5px; font-style: italic; }
body.dark-mode .explanation { background-color: #1e3a8a; border-color: #60a5fa; color: #e0e0e0; }
.button-container { text-align: center; margin-top: 30px; }

/* Badges */
.badge { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 0.85em; font-weight: bold; margin-left: 8px; }
.badge-wrong { background-color: #ef4444; color: white; }
.badge-correct { background-color: #10b981; color: white; }

/* Score page specific */
.score-container p { font-size: 1.5em; margin: 20px 0; }
.score-actions { margin: 20px 0; }
.score-actions a { margin-left: 10px; }

/* Utility */
.hidden { display: none !important; }
